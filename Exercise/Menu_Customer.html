<script>
    let product = ['Apel', 'Jeruk', 'Anggur']
    let harga = [10000, 15000, 20000]
    let stock = [10, 15, 20]

    let productToCart = []
    let hargaToCart = []
    let quantityToCart = []

    let menuCustomer
    do{
        let printDataProductInCart = ''
        for(let i = 0; i < productToCart.length; i++){
            printDataProductInCart += `${i+1}. ${productToCart[i]} : Rp. ${hargaToCart[i]} x ${quantityToCart[i]}Kg \n`
        }

        menuCustomer = prompt(`
            SELAMAT DATANG DI \n
            PURWADHIKA MART \n
            ----------------- \n
            Keranjang Belanja Anda : ${productToCart.length} \n
            ${printDataProductInCart}
            Pilih Menu Customer : \n
            1. Beli Product \n
            2. Checkout
        `)

        if(menuCustomer == 1){
            // ********** Menu 1 : Add To Cart **********
            let printDataProduct = ''
            for(let i = 0; i < product.length; i++){
                printDataProduct += `${i+1}. ${product[i]} : Rp. ${harga[i]} (Stock ${stock[i]}Kg \n`
            }

            let checkValidation = false
            do{
                let productSelected = prompt(`
                    ADD PRODUCT TO CART \n
                    ${printDataProduct}
                    Pilih Nomor Product Yang Akan Dibeli :
                `)
                
                if(productSelected > 0 && (productSelected-1 < product.length)){
                    productToCart.push(product[productSelected-1])
                    hargaToCart.push(harga[productSelected-1])

                    let totalQuantity = prompt(`
                        ADD PRODUCT TO CART \n
                        Masukan Jumlah Quantity Yang Dibeli :
                    `)

                    quantityToCart.push(totalQuantity)

                    // let productToCart = ['Apel']
                    // let hargaToCart = [10000]
                    // let quantityToCart = [10]

                    checkValidation = true
                }else{
                    alert('Data Tidak Tersedia!')
                }
            }while(checkValidation == false)
        }else if(menuCustomer == 2){
            let grandTotal = 0
            let printStruck = ''

            // Mencari Grand Total & Mencetak Struck Daftar Belanjaan
            for(let i = 0; i < productToCart.length; i++){
                grandTotal += hargaToCart[i] * quantityToCart[i]
                printStruck += `
                    ${i+1}. ${productToCart[i]} : Rp. ${hargaToCart[i]} x ${quantityToCart[i]} \n
                `
            }

            let pembayaran
            let checkPembayaran = false

            while(checkPembayaran == false){
                pembayaran = prompt(`
                    DAFTAR BELANJA \n
                    -------------- \n
                    ${printStruck}
                    -------------- \n
                    Total Belanja : Rp. ${grandTotal} \n
                    Masukan Jumlah Uang Anda
                `)

                if(pembayaran >= grandTotal){
                    checkPembayaran = true
                }else if(pembayaran < grandTotal){
                    alert('Uang Anda Kurang!')
                }else{
                    alert('Inputan Tidak Sesuai')
                }
            }

            let kembalian = pembayaran - grandTotal
            alert('Pesanan Anda Segera Kamu Proses!')
            alert(`
                STRUCK BELANJA \n
                -------------- \n
                ${printStruck}
                --------------
            `)

            productToCart = []
            hargaToCart = []
            quantityToCart = []
        }
    }while(menuCustomer != 3)
</script>