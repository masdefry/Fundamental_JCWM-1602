<script>
    // Identifikasi data : Product, Harga, Stock, Qty, Nominal Bayar
    // Step :
    //      1. Menerima inputan qty dari user
    //          - Apabila qty > stock, maka user diminta input qty terus menerus
    //      2. Cari total per-product
    //      3. Jumlahkan seluruh total belanja
    //      4. Nerima inputan nominal bayar dari user
    //          - Apabila nominal < total belanja ---> maka user diminta input nominal terus menerus
    //          - Apabila nominal >= total belanja ---> Transaksi berhasil
    
    let product1 = 'Apel'
    let product2 = 'Anggur'
    let product3 = 'Jeruk'

    let stockProduct1 = 10
    let stockProduct2 = 20
    let stockProduct3 = 30

    let hargaProduct1 = 10000
    let hargaProduct2 = 15000
    let hargaProduct3 = 20000

    let quantityProduct1
    let quantityProduct2
    let quantityProduct3

    // Validasi Quantity Apel
    let checkQuantityApel = false
    while(checkQuantityApel == false){ 
        quantityProduct1 = Number(prompt(`Mau beli ${product1} berapa? \n *Harga per-kilonya = ${hargaProduct1.toLocaleString()}`))

        if(quantityProduct1 > 0 && quantityProduct1 <= stockProduct1){
            checkQuantityApel = true
        }else if(quantityProduct1 > stockProduct1){
            alert(`Jumlah qty melebihi stock. Stock = ${stockProduct1}`)
        }else{
            alert('Inputan Tidak Sesuai!!!')
        }
    }
    

    // Validasi Quantity Anggur
    let checkQuantityAnggur = false
    while(checkQuantityAnggur == false){
        quantityProduct2 = prompt(`Mau beli ${product2} berapa? \n *Harga per-kilonya = ${hargaProduct2.toLocaleString()}`)

        if(quantityProduct2 > 0 && quantityProduct2 <= stockProduct2){
            checkQuantityAnggur = true
        }else if(quantityProduct2 > stockProduct2){
            alert(`Jumlah qty melebihi stock. Stock = ${stockProduct2}`)
        }else{
            alert('Inputan Tidak Sesuai!!!')
        }
    }

    // Validasi Quantity Jeruk
    let checkQuantityJeruk = false
    while(checkQuantityJeruk == false){
        quantityProduct3 = prompt(`Mau beli ${product3} berapa? \n *Harga per-kilonya = ${hargaProduct3.toLocaleString()}`)

        if(quantityProduct3 > 0 && quantityProduct3 <= stockProduct3){
            checkQuantityJeruk = true
        }else if(quantityProduct3 > stockProduct3){
            alert(`Jumlah qty melebihi stock. Stock = ${stockProduct3}`)
        }else{
            alert('Inputan Tidak Sesuai!!!')
        }
    }

    let totalProduct1 = quantityProduct1 * hargaProduct1
    let totalProduct2 = quantityProduct2 * hargaProduct2
    let totalProduct3 = quantityProduct3 * hargaProduct3

    let grandTotal = totalProduct1 + totalProduct2 + totalProduct3

    alert(
        `
            DAFTAR BELANJA \n\n
            ${product1} : Rp. ${hargaProduct1} x ${quantityProduct1} = ${totalProduct1.toLocaleString()} \n
            ${product2} : Rp. ${hargaProduct2} x ${quantityProduct2} = ${totalProduct2.toLocaleString()} \n
            ${product3} : Rp. ${hargaProduct3} x ${quantityProduct3} = ${totalProduct3.toLocaleString()} \n
            TOTAL BELANJA : Rp ${grandTotal}
        `
    )

    // Validasi Pembayaran
    let pembayaran
    let checkPembayaran = false

    while(checkPembayaran == false){
        pembayaran = prompt(`Total Belanja Anda : Rp. ${grandTotal.toLocaleString()} \n
                            *Masukan Jumlah Uang Anda!
                            `)

        if(pembayaran >= grandTotal){
            checkPembayaran = true
        }else if(pembayaran < grandTotal){
            alert('Jumlah Uang Anda Kurang!')
        }else{
            alert('Inputan Tidak Sesuai')
        }
    }

    let kembalian = pembayaran - grandTotal

    alert(`
        STRUCK BELANJA \n
        ------------------------------------- \n
        ${product1} : ${quantityProduct1} x ${hargaProduct1} = ${totalProduct1} \n
        ${product2} : ${quantityProduct2} x ${hargaProduct2} = ${totalProduct2} \n
        ${product3} : ${quantityProduct3} x ${hargaProduct3} = ${totalProduct3} \n
        ------------------------------------- \n
        Total Belanja = Rp. ${grandTotal} \n
        Pembayaran = Rp. ${pembayaran} \n
        Kembalian = Rp. ${kembalian}

        * Terimakasih *
    `)
</script>